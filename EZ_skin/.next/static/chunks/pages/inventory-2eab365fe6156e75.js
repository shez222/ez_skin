(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{8368:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inventory",function(){return n(7695)}])},7695:function(e,t,n){"use strict";n.r(t);var s=n(5893),a=n(7294);t.default=e=>{let{onSelectItem:t,rewardLimitReached:n}=e,[i,c]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("steamID64"),n=e.get("appId")||"252490",s=e.get("contextId")||"2";t?(async()=>{try{let e=await fetch("".concat("https://ez-skin.vercel.app","/api/inventory?steamID64=").concat(t,"&appId=").concat(n,"&contextId=").concat(s));if(!e.ok)throw Error("Failed to fetch inventory");let a=await e.json();c(a.items)}catch(e){d(e.message)}finally{l(!1),setTimeout(()=>p(!0),2e3)}})():(d("Missing parameters."),l(!1))},[]);let x=e=>{!n&&h?(c(t=>t.filter(t=>t._id!==e._id)),t(e),m(!1)):m(!0)};return r?(0,s.jsx)("p",{children:"Loading..."}):o?(0,s.jsxs)("p",{children:["Error: ",o]}):(0,s.jsxs)("div",{className:"overflow-y-auto h-[500px]",children:[(0,s.jsx)("h1",{className:"text-center font-bold text-2xl text-white",children:"Inventory"}),u&&(0,s.jsx)("div",{className:"bg-red-700 text-white p-2 rounded-md text-center mb-4",children:n?"You cannot move more than 20 items to the rewards section.":"Selection is currently disabled. Please wait."}),(0,s.jsx)("ul",{className:"grid grid-cols-5 gap-4 p-10",children:i.map(e=>(0,s.jsx)("li",{onClick:()=>x(e),children:(0,s.jsxs)("div",{className:"bg-[#2C2C2E] p-2 rounded-md cursor-pointer ".concat(h?"":"opacity-50 cursor-not-allowed"),children:[(0,s.jsx)("img",{src:e.iconUrl,alt:e.name,className:""}),(0,s.jsxs)("div",{className:"w-full flex justify-between items-center p-2 text-xs",children:[(0,s.jsx)("p",{className:"font-medium text-white",children:e.name}),(0,s.jsx)("p",{className:"font-medium text-green-700",children:e.price})]})]})},e._id))})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8368)}),_N_E=e.O()}]);